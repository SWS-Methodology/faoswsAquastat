[
["index.html", "Migration of AQUASTAT Statistical Processes into the SWS Preface", " Migration of AQUASTAT Statistical Processes into the SWS Francy Lisboa (ESSD - Mehtodological Innovation Team) 2019-03-12 Preface AQUASTAT - FAO Global’s Water Statistics System has agreed to migrate its statistical processes into the Corporate Statistical Working System (SWS). This document presents the major steps that have been taken so far in regard to this migration. "],
["counterparts.html", "Counterparts", " Counterparts Any migration into the SWS requires the interaction between at least three actors: The technical unit interested in automating either some or all its analytical processes in the SWS; The ESS - Methodological Innovation Team (ESS - SWS) responsible for the implementation and documentaion of the required statistical processes; The CIO - SWS the primary maintainer of the SWS and responsible for the implementation and documentation of non-statistical processes. "],
["sws-resources.html", "SWS resources Code lists Data tables Datasets", " SWS resources SWS resources are R modules, data tables, datasets, and code lists comprising a migration framework. Data tables are typically used as auxiliary data to help R modules to achieve their goals, often a long-format four-to-six dimensional dataset. The dimensions of the datasets are defined by statistical domain - specific code lists (reference lists) containing codes and descriptions. Therefore, datasets are primarily used to store code list - referenced values as either inputs and/or outputs in the SWS. The generic relationship among data table, datasets, and R modules is given as follow: Figure 1: Generic data table, dataset, and R module relationship in the SWS context Code lists Code lists, also called reference lists in SWS parlance, are the dimensions making up the datasets that are designed by the user to store analytical results from SWS modules. The dimensions are statistical - domain specific and are defined by the technical unit in order to reflect its needs regarding data collection, processing, and dissemination while meeting FAO standards. Each dataset dimension has a set of codes and their associated descriptions. Thus, code lists serve to the purpose of standardization, visualization, and metadata by associating standardized codes to standardized names in the SWS dataset outputs. A typical SWS compliant dataset has, therefore, the following dimensions/reference lists: Geographic area. Representing a spatial scale the information is measured at. For example, countries, territories, regional aggregates, regional special groups aggregates, global aggregates. In SWS, the geographic area dimension used by AQUASTAT datasets is named geographicAreaM49. Items. Those one wants to take a measurement from. For example, commodities, commodity groups, land use types, species, etc. Typical item dimension names are measuredItemCPC, *measuredItemHS, measuredItem. Elements. Often representing a measurement that can be taken across different items. For example, area, production, share. In SWS, the element dimension used by AQUASTAT datasets is named aquastatElement. Time (the time unit the data is displayed for: year, months, etc). In SWS, the time dimension used by AQUASTAT datasets is named timePointYears. Flag (A standardized label indicating origin and/or nature of a number in the dataset, e.g. (official number)). In SWS, the flag dimension used by AQUASTAT datasets is named flagObservationStatus. Method (A standardized label indicating method utilized to obtain a number in the dataset, e.g. ‘e’ (estimate), ‘p’ (collected)). In SWS, the method dimension used by AQUASTAT datasets is named flagMethod. In the SWS context, AQUASTAT datasets do not refer to its variables and indicators as items, but as elements. Finally, the AQUASTAT dataset in the SWS have, in most of the cases, the following makeup: Figure 2: Typical dimensions (SWS code/reference lists) composing a AQUASTAT input/output. Data tables As mentioned, data tables are mainly used to store information that help R modules to output analytical results. Information in data tables can be of a number of types. For example, conversion factors, arithmetic formulas, mapping between flags, mapping between international calssifications, etc. In SWS hierarchy. all data tables reside in a given statistical domain. In the AQUASTAT - SWS migration framework, the data tables are in the Aquastat domain. Below is a list of current available and filled data tables in the Aquastat domain: aquastat_faostat_mapping. A data table mapping out AQUASTAT elements to FAOSTAT elements. aquastat_sources. A data table storing AQUASTAT data source references. calculation_rule. A data table storing the pre-defined calculation rules used to obtain AQUASTAT indicators/derived variables. aquastat_validation. A data table storing the a set of logic tests to be applied to AQUASTAT inputs and outputs for the purpose of quality assurance and quality check Global Dam Reservoir. A data table storing national expert - provided information on the major Dams at the country level. Global Map of Irrigated Area. A data table storing information for the update of spatial representation of irrigated areas at the national level. Global Map of Irrigated Area/subnational. A data table storing information for the update of spatial representation of irrigated areas at the national and subnational levels. Datasets Datasets in the SWS are interchangebly used as module inputs/output, and are composed by dimensions (aka reference/code lists). Currently, in the AQUASTAT - SWS framework, the available datasets are: aquastat_enr. A SWS dataset with the latest available data from the AQUASTAT working system and migrated by CIO - SWS counterpart. This dataset is the bare minimum of AQUASTAT meaning that none analytical process has been applied to it, including the calculation of AQUASTAT indicators (aka derived variables). Figure 3: Snapshot of the aquastat_enr dataset. aquastat_baseline. A SWS dataset output from the faoswsAquastatBaseline module representing: The add of AQUASTAT indicators/derived variables to the aquastat_enr dataset; The increase of time-series length for AQUASTAT variables and indicators by imputations; The expansion of the geographic coverage of the SDG 6.4.1 (Water Use Efficiency) and SDG 6.4.2 (Water Stress). Figure 4: Snapshot of the aquastat_baseline dataset yet to be validated by the technical unit. "],
["aquastat-data.html", "AQUASTAT data", " AQUASTAT data The next sections will treat the faoswsAquastatBaseline module as well as its datasets and data tables in more details. However, after describing the current SWS resources involved in the AQUASTAT - SWS migration framework, it is important to have a look at the data collected and disseminated by AQUASTAT. with the validation from the AQUASTAT focal point, The ESS - SWS counterpart has adapated and updated a reference table with the following information: element_code. The SWS code of AQUASTAT variable and indicators; element_name. The description of the AQUASTAT variables and indicators; disseminated. Column indicating whether the variable/indicator is for dissemination (D) or internal use (I); calculated. Column indicating whether the variable is an ordinary variable (V) or an indicator (calculated varaible) (C); Source. Column indicating the data source: A: data collected by AQUASTAT; O: data copied by AQUASTAT from other international databases; C: data calculated. source. Collumn with the source description of AQUASTAT variables/indicators. AQUASTAT ordinary variable collected by AQUASTAT; DERIVED indicator calculated from ordinary variables; FAOSTAT variable or indicator collected from FAOSTAT database; WORLD BANK variable or indicator collected from the World Bank; ILO variable or indicator collected from the Internation Labour Organization; JMP(WHO/UNICEF) variable or indicator collected from the World Health Organization/UNICEF. Table 1: The description of AQUASTAT data element_code element_name disseminated calculated Source source 4150 Long-term average annual precipitation in volume D C C DERIVED 4151 Long-term average annual precipitation in depth D V O DERIVED 4154 Groundwater produced internally D V A AQUASTAT 4155 Surface water produced internally D V A AQUASTAT 4156 Overlap between surface water and groundwater D V A AQUASTAT 4157 Total internal renewable water resources (IRWR) D C C DERIVED 4159 Surface water: entering the country (total) D V A AQUASTAT 4160 Surface water: inflow not submitted to treaties D V A AQUASTAT 4161 Surface water: inflow submitted to treaties D V A AQUASTAT 4162 Surface water: inflow secured through treaties D V A AQUASTAT 4164 Surface water: accounted inflow D C C DERIVED 4165 Surface water: total flow of border rivers D V A AQUASTAT 4168 Surface water: accounted flow of border rivers D V A AQUASTAT 4171 Surface water: leaving the country to other countries (total) D V A AQUASTAT 4172 Surface water: outflow to other countries not submitted to treaties D V A AQUASTAT 4173 Surface water: outflow to other countries submitted to treaties D V A AQUASTAT 4174 Surface water: outflow to other countries secured through treaties D V A AQUASTAT 4176 Surface water: total external renewable D C C DERIVED 4177 Groundwater: entering the country (total) D V A AQUASTAT 4178 Groundwater: leaving the country to other countries (total) D V A AQUASTAT 4182 Water resources: total external renewable D C C DERIVED 4185 Total renewable surface water D C C DERIVED 4187 Total renewable groundwater D C C DERIVED 4188 Total renewable water resources D C C DERIVED 4192 Dependency ratio D C C DERIVED 4193 Exploitable: regular renewable surface water D V A AQUASTAT 4194 Exploitable: irregular renewable surface water D V A AQUASTAT 4195 Exploitable: regular renewable groundwater D V A AQUASTAT 4196 Total exploitable water resources D C C DERIVED 4452 Groundwater: accounted inflow D V A AQUASTAT 4453 Groundwater: accounted outflow to other countries D V A AQUASTAT 4509 Exploitable: total renewable surface water D C C DERIVED 4536 Overlap: between surface water and groundwater D C C DERIVED 4549 Environmental Flow Requirements D V O UNKNOWN "],
["the-faoswsaquastatbaseline-module.html", "The faoswsAquastatBaseline module Aims Add indicators Long-term variables Time-Series completeness Geographic coverage FAOSTAT data", " The faoswsAquastatBaseline module Aims The faoswsAquastatBaseline is meant to run and generates the updated benchmark for AQUASTAT activities in the SWS context. The module, therefore, seeks to fullfill AQUASTAT demands described below. Add indicators The datasets used as input by the faoswsAquastatBaseline module is free from AQUASTAT indicators/derived variables. Thus, the first motivation of the module is to bring indicators up by applying the calculation rules provided by the technical unit and store in the SWS as the calculation_rule data table. Below the description of the AQUASTAT calculation_rule data table. Table 2: The AQUASTAT calculation rules data table calculation_rule indicator_name component_name [4103]=[4101] + [4102] [Cultivated area (arable land + permanent crops)] [Arable land area] + [Permanent crops area] [4105]=[4104] - [4106] [Rural population] [Total population]-[Urban population] [4107]=[4104]/([4100]/100) [Population density] [Total population]/([Total area of the country]/100 [4108]=[4109]+[4110] [Population economically active in agriculture] [Male population economically active in agriculture]+[Female population economically active in agriculture] [4150]=[4100] * [4151] / 100000 [Long-term average annual precipitation in volume] [Total area of the country]*[Long-term average annual precipitation in depth]/100000 [4157]=[4154]+[4155]-[4156] [Total internal renewable water resources (IRWR)] [Groundwater produced internally]+[Surface water produced internally]-[Overlap between surface water and groundwater] [4158]=[4157]*1000000/[4104] [Total internal renewable water resources per capita] [Total internal renewable water resources (IRWR)]*1000000/[Total population] [4164]=[4160]+[4162]+[4168] [Surface water: accounted inflow] [Surface water: inflow not submitted to treaties]+[Surface water: inflow secured through treaties]+[Surface water: accounted flow of border rivers] [4176]=[4160]+[4162]+[4168]-[4174] [Surface water: total external renewable] [Surface water: inflow not submitted to treaties]+[Surface water: inflow secured through treaties]+[Surface water: accounted flow of border rivers]-[Surface water: outflow to other countries secured through treaties] [4182]=[4176]+[4452] [Water resources: total external renewable] [Surface water: total external renewable]+[Groundwater: accounted inflow] [4185]=[4176]+[4155] [Total renewable surface water] [Surface water: total external renewable]+[Surface water produced internally] [4187]=[4154]+[4452] [Total renewable groundwater] [Groundwater produced internally]+[Groundwater: accounted inflow] [4188]=[4185]+[4187]-[4156] [Total renewable water resources] [Total renewable surface water]+[Total renewable groundwater]-[Overlap between surface water and groundwater] [4190]=[4188]*1000000/[4104] [Total renewable water resources per capita] [Total renewable water resources]*1000000/[Total population] [4192]=100*([4164]+[4452])/([4164]+[4452]+[4157]) [Dependency ratio] 100*([Surface water: accounted inflow]+[Groundwater: accounted inflow])/([Surface water: accounted inflow]+[Groundwater: accounted inflow]+[Total internal renewable water resources (IRWR)] [4509]=[4193]+[4194] [Exploitable: total renewable surface water] [Exploitable: regular renewable surface water]+[Exploitable: irregular renewable surface water] [4196]=[4509]+[4195] [Total exploitable water resources] [Exploitable: total renewable surface water]+[Exploitable: regular renewable groundwater] [4253]=[4251]+[4252]+[4250] [Total water withdrawal] [Municipal water withdrawal]+[Industrial water withdrawal]+[Agricultural water withdrawal] [4254]=[4250]/[4253]*100 [Agricultural water withdrawal as % of total water withdrawal] [Agricultural water withdrawal]/[Total water withdrawal]*100 [4255]=[4251]/[4253]*100 [Municipal water withdrawal as % of total water withdrawal] [Municipal water withdrawal]/[Total water withdrawal]*100 [4256]=[4252]/[4253]*100 [Industrial water withdrawal as % of total water withdrawal] [Industrial water withdrawal]/[Total water withdrawal]*100 [4257]=[4253]*1000000/[4104] [Total water withdrawal per capita] [Total water withdrawal]*1000000/[Total population] [4263]=[4253]-[4264]-[4265]-[4451] [Total freshwater withdrawal (primary and secondary)] [Total water withdrawal]-[Desalinated water produced]-[Direct use of treated municipal wastewater]-[Direct use of agricultural drainage water] [4271]=100*[4260]/[4250] [Agricultural water requirement as % of agricultural water withdrawal] 100*[Irrigation water requirement]/[Agricultural water withdrawal] [4273]=100*[4250]/[4188] [Agricultural water withdrawal as % of total renewable water resources] 100*[Agricultural water withdrawal]/[Total renewable water resources] [4275]=100*[4263]/[4188] [MDG 7.5. Freshwater withdrawal as % of total renewable water resources] 100*[Total freshwater withdrawal (primary and secondary)]/[Total renewable water resources] [4300]=[4303]+[4304] [Total cultivated area drained] [Area equipped for irrigation drained]+[Non-irrigated cultivated area drained] [4305]=100*[4300]/[4103] [% of total cultivated area drained] 100*[Total cultivated area drained]/[Cultivated area (arable land + permanent crops)] [4311]=[4308]+[4309]+[4310] [Area equipped for full control irrigation: total] [Area equipped for full control irrigation: surface irrigation]+[Area equipped for full control irrigation: sprinkler irrigation]+[Area equipped for full control irrigation: localized irrigation] [4313]= [4311]+[4312]+[4316] [Area equipped for irrigation: total] [Area equipped for full control irrigation: total]+[Area equipped for irrigation: equipped lowland areas]+[Area equipped for irrigation: spate irrigation] [4317]= [4313]+[4314]+[4315] [Total agricultural water managed area] [Area equipped for irrigation: total]+[Flood recession cropping area non-equipped]+[Cultivated wetlands and inland valley bottoms non-equipped] [4319]=100*[4313]/[4317] [% of agricultural water managed area equipped for irrigation] 100*[Area equipped for irrigation: total]/[Total agricultural water managed area] [4323]=100*[4320]/[4313] [% of area equipped for irrigation by groundwater ] 100*[Area equipped for irrigation by groundwater]/[Area equipped for irrigation: total] [4324]=100*[4321]/[4313] [% of area equipped for irrigation by surface water] 100*[Area equipped for irrigation by surface water]/[Area equipped for irrigation: total] [4325]=100*[4322]/[4313] [% of area equipped for irrigation by mixed surface water and groundwater] 100*[Area equipped for irrigation by mixed surface water and groundwater]/[Area equipped for irrigation: total] [4327]=100*[4326]/[4313] [% of area equipped for irrigation power irrigated] 100*[Area equipped for power irrigation (surface water or groundwater)]/[Area equipped for irrigation: total] [4328]=100*[4318]/[4313] [% of the area equipped for irrigation actually irrigated] 100*[Area equipped for irrigation: actually irrigated]/[Area equipped for irrigation: total] [4330]=100*[4313]/[4307] [% of irrigation potential equipped for irrigation] 100*[Area equipped for irrigation: total]/[Irrigation potential] [4331]=100*[4313]/[4103] [% of the cultivated area equipped for irrigation] 100*[Area equipped for irrigation: total]/[Cultivated area (arable land + permanent crops)] [4445]=100*[4400]/[4313] [% of area equipped for irrigation salinized] 100*[Area salinized by irrigation]/[Area equipped for irrigation: total] [4446]=100*[4303]/[4313] [% of area equipped for irrigation drained] 100*[Area equipped for irrigation drained]/[Area equipped for irrigation: total] [4448]=[4314]+[4315] [Other agricultural water managed area] [Flood recession cropping area non-equipped]+[Cultivated wetlands and inland valley bottoms non-equipped] [4450]=100*[4263]/[4157] [Freshwater withdrawal as % of internal renewable water resources] 100*[Total freshwater withdrawal (primary and secondary)]/[Total internal renewable water resources (IRWR)] [4455]=100*[4454]/[4101] [Conservation agriculture area as % of arable land area] 100*[Conservation agriculture area]/[Arable land area] [4457]=[4251]*1000000/[4104] [Municipal water withdrawal per capita (total population)] [Municipal water withdrawal]*1000000/[Total population] [4458]=[4112]/[4104]/1000 [GDP per capita] [Gross Domestic Product (GDP)]/[Total population]/1000 [4459]=[4309]+[4310] [Area equipped for full control irrigation: pressurized (sprinkler + localized)] [Area equipped for full control irrigation: sprinkler irrigation]+[Area equipped for full control irrigation: localized irrigation] [4462]=100*[4379]/[4461] [Harvested irrigated crop area as % of the full control irrigation area actually irrigated] 100*[Total harvested irrigated crop area (full control irrigation)]/[Area equipped for full control irrigation: actually irrigated] [4463]=100*[4461]/[4311] [% of area equipped for full control irrigation actually irrigated] 100*[Area equipped for full control irrigation: actually irrigated]/[Area equipped for full control irrigation: total] [4464]=100*[4379]/[4461] [Irrigated cropping intensity] 100*[Total harvested irrigated crop area (full control irrigation)]/[Area equipped for full control irrigation: actually irrigated] [4466]=100*[4465]/[4313] [% of area equipped by direct use of treated municipal wastewater] 100*[Area equipped by direct use of treated municipal wastewater]/[Area equipped for irrigation: total] [4467]=100*[4263]/[4253] [Freshwater withdrawal as % of total water withdrawal 100*[Total freshwater withdrawal (primary and secondary)]/[Total water withdrawal] [4468]=[4251]*1000000/[4106] [Municipal water withdrawal per capita (urban population)] [Municipal water withdrawal]*1000000/[Urban population] [4470]=100*[4103]/[4100] [% of total country area cultivated] 100*[Cultivated area (arable land + permanent crops)]/[Total area of the country] [4471]=1000000*[4197]/[4104] [Dam capacity per capita] 1000000*[Total dam capacity]/[Total population] [4514]=100*[4513]/[4313] [% of area equipped for irrigation by direct use of non-treated municipal wastewater] 100*[Area equipped for irrigation by direct use of non-treated municipal wastewater]/[Area equipped for irrigation: total] [4527]=100*[4526]/[4313] [% of area equipped for irrigation by direct use of agricultural drainage water] 100*[Area equipped for irrigation by direct use of agricultural drainage water]/[Area equipped for irrigation: total] [4531]= [4252]*1000000/[4104] [Industrial water withdrawal per capita] [Industrial water withdrawal]*1000000/[Total population] [4532]=[4250]*1000000/[4104] [Agricultural water withdrawal per capita] [Agricultural water withdrawal]*1000000/[Total population] [4538]=100*[4108]/[4449] [% of economically active population active in agriculture] 100*[Population economically active in agriculture]/[Population economically active] [4540]=100*[4539]/[4313] [% of area equipped for irrigation by desalinated water] 100*[Area equipped for irrigation by desalinated water]/[Area equipped for irrigation: total] [4550]=100*[4263]/([4188]-[4549]) [SDG 6.4.2. Water Stress] 100*[Total freshwater withdrawal (primary and secondary)]/([Total renewable water resources]-[Environmental Flow Requirements] [4556]=100*[4379]/[4103] [% of arable land irrigated] 100*[Total harvested irrigated crop area (full control irrigation)]/[Arable land area] [4555]=1/(1+((1-([4556]/100))/(([4556]/100)*[4557]))) [% of agricultural GVA produced by irrigated agriculture] 1/(1+((1-([% of arable land irrigated]/100))/(([% of arable land irrigated]/100)*[4557]))) [4552]= ((([4548]/[4558]100)[4555]/100)/[4250])/10000000 [SDG 6.4.1. Irrigated Agriculture Water Use Efficiency] (([Agriculture, value added to GDP]*[% of agricultural GVA produced by irrigated agriculture]/100)/[Agricultural water withdrawal])/1000000000 [4553]=(([4546]/[4558]*100)/[4252])/1000000000 [SDG 6.4.1. Industrial Water Use Efficiency] ([Industry, value added to GDP]/[Industrial water withdrawal])/1000000000 [4554]= (([4547]/[4558]*100)/[4251])/1000000000 [SDG 6.4.1. Services Water Use Efficiency] ([Services, value added to GDP]/[Municipal water withdrawal])/1000000000 [4551]=([4552][4254]/100)+([4553][4256]/100)+([4554]*[4255]/100) [SDG 6.4.1. Water Use Efficiency] ([SDG 6.4.1. Irrigated Agriculture Water Use Efficiency][Agricultural water withdrawal as % of total water withdrawal]) + ([SDG 6.4.1. Industrial Water Use Efficiency][Industrial water withdrawal as % of total water withdrawal]) + ([SDG 6.4.1. Services Water Use Efficiency]*[Municipal water withdrawal as % of total withdrawal]) Long-term variables According to the technical unit, there a set of AQUASTAT variables and indicators that should have the same value over time. These variables are called by the technical unit Long-term average variables and are shown in the table below. Table 3: The Long-term average variables in AQUASTAT element_code element_name disseminated calculated Source source 4150 Long-term average annual precipitation in volume D C C DERIVED 4151 Long-term average annual precipitation in depth D V O DERIVED 4154 Groundwater produced internally D V A AQUASTAT 4155 Surface water produced internally D V A AQUASTAT 4156 Overlap between surface water and groundwater D V A AQUASTAT 4157 Total internal renewable water resources (IRWR) D C C DERIVED 4159 Surface water: entering the country (total) D V A AQUASTAT 4160 Surface water: inflow not submitted to treaties D V A AQUASTAT 4161 Surface water: inflow submitted to treaties D V A AQUASTAT 4162 Surface water: inflow secured through treaties D V A AQUASTAT 4164 Surface water: accounted inflow D C C DERIVED 4165 Surface water: total flow of border rivers D V A AQUASTAT 4168 Surface water: accounted flow of border rivers D V A AQUASTAT 4171 Surface water: leaving the country to other countries (total) D V A AQUASTAT 4172 Surface water: outflow to other countries not submitted to treaties D V A AQUASTAT 4173 Surface water: outflow to other countries submitted to treaties D V A AQUASTAT 4174 Surface water: outflow to other countries secured through treaties D V A AQUASTAT 4176 Surface water: total external renewable D C C DERIVED 4177 Groundwater: entering the country (total) D V A AQUASTAT 4178 Groundwater: leaving the country to other countries (total) D V A AQUASTAT 4182 Water resources: total external renewable D C C DERIVED 4185 Total renewable surface water D C C DERIVED 4187 Total renewable groundwater D C C DERIVED 4188 Total renewable water resources D C C DERIVED 4192 Dependency ratio D C C DERIVED 4193 Exploitable: regular renewable surface water D V A AQUASTAT 4194 Exploitable: irregular renewable surface water D V A AQUASTAT 4195 Exploitable: regular renewable groundwater D V A AQUASTAT 4196 Total exploitable water resources D C C DERIVED 4452 Groundwater: accounted inflow D V A AQUASTAT 4453 Groundwater: accounted outflow to other countries D V A AQUASTAT 4509 Exploitable: total renewable surface water D C C DERIVED 4536 Overlap: between surface water and groundwater D C C DERIVED 4549 Environmental Flow Requirements D V O UNKNOWN Thus, the second motivation of the module is to ensure the correct value of the Long-term variable in the final output. Time-Series completeness One of the main criticisms at the AQUASTAT database is the low level of completeness of the variable/indicators time-series. In fact, water data collection and standardization are not simple tasks due to the high fragmentation and scarcity of the water information at multiple spatial scales. According to the technical unit, on top of the inherent challenges to obtain reliable water data, there has also been a long period of humman resources shortage. These issues eventually hinder the timely collection, processing, and dissemination data and ultimately have been leading to lack of the harmonization between countries in terms of time-series length across several AQUASTAT variables and indicators. To solve this problem, and at the same time respect the variable/indicator characteristics, the ESS - SWS team has proposed the application of imputation methods to increase time-series completeness of AQUASTAT variables and indicators. Through meetings with the technical unit, it was agreed that due to the nature of AQUASTAT variables showing little to moderate variation over time, the imputation mehtods of choice would be Last Observation Carried Forward (LOCF) and Linear Interpolation. Therefore, the third motivation of the module is to increase the time-series completness of each variable/indicator Geographic coverage Having aggred on the imputation methods to be applied to AQUASTAT variables/indicators, the obvious expected consequence of the imputations is the possibility of increasing the geographic coverage of important indicators such as the SDGs 6.4.1 (Water USe Efficiency) and 6.4.2 (Water Stress). Therefore, the fourth motivation of the module is the paved the way for the aggregation of SDG indicators at regional and global levels. FAOSTAT data The technical unit has been re-disseminating FAOSTAT data as a way to provide supporting statistics in a single data dissemination platform. From a data processing perspective, an effective way to streamline the use of FAOSTAT data by AQUATSAT would be to take the data from datasets already residing in other SWS statistical domains. However, it has been proven to be problematic because the SWS datasets where the FAOSTAT data were suppose to be are actually empty. Currently, the AQUASTAT focal point responsible for the updates of the AQUASTAT working system has been proceed as follow: Downloading normalized data from FAOSTAT; Mapping FAOSTAT code to AQUASTAT code; Uploading the recoded FAOSTAT data into the AQUASTAT working System. To avoid the manual download -&gt; mapping -&gt; upload the module is also automatically harvisting the FAOSTAT data from the FAOSTAT website. The FAOSTAT code to AQUASTAT code mapping is done by using the information stored in the aquastat_faostat_mapping data table. Table 4: FAOSTAT-to-AQUASTAT mapping aqua_element_code element_name item_code element_code element_code_sws 4100 Total area of the country 6600 5110 5115 4101 Arable land area 6621 5110 5710 4102 Permanent crops area 6650 5110 5011 4103 Cultivated area (arable land + permanent crops) 6620 5110 5522 4104 Total population 3010 511 511 4105 Rural population 3010 551 551 4106 Urban population 3010 561 561 4558 GDP Deflator (2015) 22024 6107 9999 4559 Land area 6601 5110 6601 4560 Inland waters 6680 5110 6680 "],
["workflow.html", "Workflow FAOSTAT annexation Calculation Imputations Recalculation Flag mapping (Observation) Flag mapping (Method)", " Workflow After having seen the main motivations of the faoswsAquastatBaseline module, its workflow can be divided into five main steps: FAOSTAT Annexation Calculation Imputation Recalculation Flag mapping FAOSTAT annexation Get FAOSTAT data from FAOSTAT website and mapping them to AQUASATAT code using the aquastat_faostat_mapping data table; Downlaod the dataset aquastat_enr from SWS (no indicators in the dataset); Annex the recoded FAOSTAT data to the AQUASTAT aquastat_enr dataset to form a single dataset used as input in the next steps of the faoswsAquastatBaseline Workflow. Figure 5: FAOSTAT annexation to AQUASTAT SWS data Calculation Pass the resulting dataset from the FAOSTAT annexation into the prep_for_calculation function in order to: Get all aquastat variables and indicators from the calculation rules in the calculation_rule data table; Check and collect variables and/or indicators that do not exist in the dataset. Add the detected missing variables and/or indicators to the dataset in order to avoid crash when applying calculation rules; According to AQUASTAT focal point, before calculations all variables belonging to calculation rules representing addiction or subtraction MUST be converted to zero IF their respective time-series are completely empty. Below the variables pre-defined by AQUASTAT for which this is applicable. Table 5: AQUASTAT variables with missing values made zero before calculations IF the time-series was fully empty element_code element_name disseminated calculated Source source 4264 Desalinated water produced D V A AQUASTAT 4265 Direct use of treated municipal wastewater D V A AQUASTAT 4308 Area equipped for full control irrigation: surface irrigation D V A AQUASTAT 4309 Area equipped for full control irrigation: sprinkler irrigation D V A AQUASTAT 4310 Area equipped for full control irrigation: localized irrigation D V A AQUASTAT 4312 Area equipped for irrigation: equipped lowland areas D V A AQUASTAT 4314 Flood recession cropping area non-equipped D V A AQUASTAT 4315 Cultivated wetlands and inland valley bottoms non-equipped D V A AQUASTAT 4316 Area equipped for irrigation: spate irrigation D V A AQUASTAT 4451 Direct use of agricultural drainage water D V A AQUASTAT Calculation of indicators by applying the information in the calculation_rule data table (see Table 2); After calculations, replace missing values (NAs) by the value of primary variable of the indicator when applicable following the rule: IF indicator/derived variable is empty after the caculation and its correspondent primary variable is avaialble, replace the missing value of the indicator by the value of the primary variable. Table 6: Indicators which the primary variable rule was applied to after the calculations indicator_code indicator_description primary_variable_code primary_variable_description 4263 Total freshwater withdrawal (primary and secondary) 4253 Total water withdrawal 4311 Area equipped for full control irrigation: total 4308 Area equipped for full control irrigation: surface irrigation 4313 Area equipped for irrigation: total 4311 Area equipped for full control irrigation: total 4317 Total agricultural water managed area 4313 Area equipped for irrigation: total 4459 Area equipped for full control irrigation: pressurized (sprinkler + localized) 4309 Area equipped for full control irrigation: sprinkler irrigation Figure 6: AQUASTAT Calculation using SWS calculation_rule data table. Imputations The calculation step added new indicators but did not solve the issue of time-series completeness. The Imputation step comes in to: Expand variables and indicators time-series from the first observed value until 2018 as agreed by the technical unit; Fill the generated missing values using the following guideline: Apply Last Observation Carried Forward to missing values in time-series where the observed values DO NOT VARY; Apply Last Observation Carried Forward to missing values in time-series of Long-Term average variables (see Table 3 for reference); Apply Last Observation Carried Forward to missing values in time-series with only one observed value; Apply Linear Interpolation to missing values in time-series with two or more different observed values. Figure 7: AQUASTAT Imputations using the data resulting from the calculation step. Recalculation The completeness brought by imputations is used by the recalculation step to replace indicator imputed values by calculated values. To do so, the recalculation step: Takes the imputed dataset resulting from the Imputation step; Applies the calculation rules to the imputed dataset with the help of the calculation_rule data table (Table 2); Re-applies the primary variable variable rule using the variables in the Table 2; Replace indicators brought by imputations by values brought by the recalculation when applicable. Figure 8: Recalculations using imputed dataset and the calculation_rule data table. Flag mapping (Observation) The mapping between the original flags in AQUASTAT to valid flags in the SWS was made possible with the following conversions: Table 7: AQUASTAT to SWS flag conversion flagAquastat flagAquastat_SWS E X K E L E I E F E M I blank blank Besides the basic conversion described above, values emerged from the faoswsAquastatBaseline module processing were flagged according as follow: All indicators emerging from calculations/recalculations have SWS flag ‘E’; All missing values filled by the imputations have SWS flag ‘I’. Flag mapping (Method) With regard to flag of methods in SWS, the conversion following criteria: When the value is imputed from the module AND the imputation method is LOCF, the flag method is ‘t’; When the value is imputed from the module and the method is LOCF, the flag of method is ‘e’; When the value is calculated or recalculated the flag of method is ‘i’. When the value has flagObservationStatus ‘E’ and DOES NOT COME FROM PROCESSING, the flag of method is ‘-’; When the value has flagObservationStatus blank and DOES NOT COME FROM PROCESSING, the flag of method is ‘p’ ; When the value has flagObservationStatus ‘X’ and DOES NOT COME FROM PROCESSING, the flag of method is ‘c’; Table 8: flagObservationStatus - flagMethod combination brought by the faoswsAquastatBaseline module flagObservationStatus flagMethod X c I t I e E i E - blank p "],
["running-the-module-in-the-sws.html", "Running the module in the SWS", " Running the module in the SWS To run the faoswsAquastatBaseline after any updated of either aquastat_enr SWS dataset or FAOSTAT - based variables, the user need to: Login in the SWS; CLick on New Query; Select Aquastat domain and Aquastat Baseline dataset; Select all countries, all elements, and all years; Figure 9: Aquastat baseline query Click on the Run button to query the data; After running the query the user will see an empty session waiting for being populated by the module; Figure 10: Aquastat baseline empty session Click on the Run plugin button and then select the faoswsAquastatBaseline module Figure 11: Select Aquastat baseline module Once the user has selected the faoswsAquastatBaseline plugin, click on the button Run plugin; Figure 12: Run Aquastat baseline module The module will start and the user should wait for the output. Figure 13: Aquastat baseline dataset populated in the session "],
["did-the-module.html", "Did the module… Add new indicators ? promote time-series completeness and higher geographic coverage ? correct values of Long-Term Average variables ?", " Did the module… Add new indicators ? Table 9: The new indicators resulting from the faoswsAquastatBaseline module aquastatElement aquastatElement_description 4107 Population density [inhab/km2] 4448 Other agricultural water managed area [1000 ha] 4458 GDP per capita [current US$/inhab] 4470 % of total country area cultivated [%] 4471 Dam capacity per capita [m3/inhab] 4538 % of economically active population active in agriculture [%] 4450 Freshwater withdrawal as % of internal renewable water resources [%] 4457 Municipal water withdrawal per capita (total population) [m3/inhab/year] 4467 Freshwater withdrawal as % of total water withdrawal [%] 4468 Municipal water withdrawal per capita (urban population) [m3/inhab/year] 4531 Industrial water withdrawal per capita [m3/inhab/year] 4532 Agricultural water withdrawal per capita [m3/inhab/year] 4550 SDG 6.4.2. Water Stress [%] 4463 % of area equipped for full control irrigation actually irrigated [%] 4553 SDG 6.4.1. Industrial Water Use Efficiency [US$/m3] 4554 SDG 6.4.1. Services Water Use Efficiency [US$/m3] 4271 Agricultural water requirement as % of agricultural water withdrawal [%] 4551 SDG 6.4.1. Water Use Efficiency [US$/m3] 4552 SDG 6.4.1. Irrigated Agriculture Water Use Efficiency [US$/m3] 4445 % of area equipped for irrigation salinized [%] 4446 % of area equipped for irrigation drained [%] 4466 % of area equipped for irrigation by direct use of treated municipal wastewater [%] 4455 Conservation agriculture area as % of arable land area [%] 4514 % of area equipped for irrigation by direct use of non-treated municipal wastewater [%] promote time-series completeness and higher geographic coverage ? For the SDG 6.4.1 (Water Use Efficiency)… Table 10: Increase in time-series completeness and geographic expansion of SDG 6.4.1 (Water Use Efficiency geographicAreaM49_description before_module after_module Afghanistan 0 8 Albania 0 13 Algeria 0 13 Australia 0 13 Austria 0 11 Bahrain 0 13 Bangladesh 0 11 Armenia 0 13 Belgium 0 11 Bhutan 0 11 Bolivia (Plurinational State of) 0 11 Botswana 0 13 Brazil 0 13 Belize 0 13 Bulgaria 0 11 Myanmar 0 13 Burundi 0 13 Cambodia 0 13 Cameroon 0 13 Canada 0 9 Cabo Verde 0 13 Central African Republic 0 13 Sri Lanka 0 13 Chad 0 13 Chile 0 12 Colombia 0 13 Congo 0 13 Democratic Republic of the Congo 0 13 Costa Rica 0 6 Cuba 0 12 Cyprus 0 13 Czechia 0 12 Ethiopia 0 13 Eritrea 0 13 India 0 13 Indonesia 0 13 Iran (Islamic Republic of) 0 13 Iraq 0 9 Ireland 0 13 Italy 0 11 Côte d’Ivoire 0 13 Jamaica 0 13 Japan 0 13 Kazakhstan 0 13 Jordan 0 13 Kenya 0 13 Republic of Korea 0 13 Kyrgyzstan 0 13 Lao People’s Democratic Republic 0 13 Lebanon 0 13 Lesotho 0 13 Latvia 0 12 Liberia 0 13 Libya 0 13 Lithuania 0 12 Madagascar 0 13 Malawi 0 13 Malaysia 0 13 Mali 0 13 Malta 0 13 Mauritania 0 13 Mauritius 0 13 Mexico 0 13 Mongolia 0 13 Republic of Moldova 0 12 Montenegro 0 9 Morocco 0 13 Mozambique 0 13 Namibia 0 13 Nepal 0 13 Netherlands 0 11 New Zealand 0 12 Nicaragua 0 8 Niger 0 13 Nigeria 0 13 Norway 0 12 Pakistan 0 13 Panama 0 9 Paraguay 0 7 Peru 0 11 Philippines 0 13 Poland 0 12 Portugal 0 11 Guinea-Bissau 0 13 Timor-Leste 0 13 Puerto Rico 0 12 Romania 0 11 Russian Federation 0 13 Rwanda 0 12 Senegal 0 13 Seychelles 0 13 Sierra Leone 0 13 Slovakia 0 11 Viet Nam 0 13 Slovenia 0 9 South Africa 0 13 Zimbabwe 0 13 Spain 0 10 Sudan 0 8 Suriname 0 13 Swaziland 0 13 Sweden 0 12 Switzerland 0 7 Syrian Arab Republic 0 13 Tajikistan 0 13 Thailand 0 12 Togo 0 13 Tunisia 0 13 Turkey 0 13 Uganda 0 7 Ukraine 0 13 The former Yugoslav Republic of Macedonia 0 12 United Kingdom 0 12 United Republic of Tanzania 0 13 United States of America 0 11 Burkina Faso 0 13 Uruguay 0 13 Uzbekistan 0 13 Venezuela (Bolivarian Republic of) 0 11 Yemen 0 13 Zambia 0 13 And for the SDG 6.4.2 (Water Stress)… Table 11: Increase in time-series completeness and geographic expansion of SDG 6.4.2 (Water Stress geographicAreaM49_description before_module after_module Afghanistan 0 32 Albania 0 29 Algeria 0 29 Angola 0 29 Azerbaijan 0 26 Argentina 0 24 Australia 0 9 Austria 0 39 Bangladesh 0 11 Armenia 0 24 Belgium 0 19 Bolivia (Plurinational State of) 0 32 Botswana 0 27 Bouvet Is 0 11 Brazil 0 11 Belize 0 32 Bulgaria 0 29 Myanmar 0 32 Burundi 0 32 Belarus 0 24 Cambodia 0 13 Cameroon 0 32 Canada 0 28 Cabo Verde 0 18 Central African Republic 0 32 Sri Lanka 0 29 Chad 0 32 Chile 0 10 Colombia 0 19 Comoros 0 20 Congo 0 32 Democratic Republic of the Congo 0 24 Costa Rica 0 6 Croatia 0 10 Cuba 0 18 Cyprus 0 18 Czechia 0 22 Benin 0 34 Denmark 0 31 Dominican Republic 0 19 Ecuador 0 19 El Salvador 0 27 Equatorial Guinea 0 32 Ethiopia 0 17 Estonia 0 24 Fiji 0 32 Finland 0 29 France 0 15 Djibouti 0 19 Gabon 0 32 Georgia 0 27 Gambia 0 37 Germany 0 19 Ghana 0 49 Greece 0 17 Guatemala 0 18 Guinea 0 32 Guyana 0 27 Haiti 0 28 Honduras 0 16 Hungary 0 29 Iceland 0 39 India 0 9 Indonesia 0 29 Iran (Islamic Republic of) 0 26 Iraq 0 7 Ireland 0 29 Israel 0 29 Italy 0 19 Côte d’Ivoire 0 32 Jamaica 0 26 Japan 0 21 Kazakhstan 0 17 Jordan 0 14 West Bank(-1995) 0 19 Kenya 0 29 Democratic People’s Republic of Korea 0 24 Republic of Korea 0 16 Kuwait 0 25 Kyrgyzstan 0 25 Lao People’s Democratic Republic 0 14 Lebanon 0 13 Lesotho 0 32 Latvia 0 12 Liberia 0 32 Libya 0 21 Lithuania 0 24 Luxembourg 0 24 Madagascar 0 35 Malawi 0 25 Malaysia 0 29 Mali 0 32 Mauritania 0 29 Mexico 0 18 Mongolia 0 14 Republic of Moldova 0 27 Morocco 0 11 Mozambique 0 29 Oman 0 24 Namibia 0 23 Nepal 0 19 Netherlands 0 19 Nicaragua 0 19 Niger 0 31 Nigeria 0 29 Norway 0 23 Pakistan 0 44 Panama 0 9 Papua New Guinea 0 19 Paraguay 0 8 Peru 0 9 Philippines 0 13 Poland 0 19 Portugal 0 19 Guinea-Bissau 0 28 Qatar 0 25 Réunion 0 22 Romania 0 49 Russian Federation 0 25 Rwanda 0 19 Saudi Arabia 0 27 Senegal 0 29 Sierra Leone 0 32 Slovakia 0 22 Viet Nam 0 16 Slovenia 0 17 Somalia 0 29 South Africa 0 19 Zimbabwe 0 32 Spain 0 19 Sudan 0 7 Suriname 0 32 Swaziland 0 39 Sweden 0 39 Switzerland 0 7 Syrian Arab Republic 0 15 Tajikistan 0 13 Thailand 0 12 Togo 0 32 Trinidad and Tobago 0 14 United Arab Emirates 0 19 Tunisia 0 19 Turkmenistan 0 13 Uganda 0 49 Ukraine 0 27 Egypt 0 9 United Kingdom 0 11 United Republic of Tanzania 0 25 United States of America 0 29 Burkina Faso 0 8 Uruguay 0 54 Uzbekistan 0 25 Venezuela (Bolivarian Republic of) 0 29 Yemen 0 19 Zambia 0 27 correct values of Long-Term Average variables ? Table 12: LTA correction in Afghanistan on the element ‘Total internal renewable water resources (IRWR) [10^9 m3/year]’ geographicAreaM49_description timePointYears Value_original Value_corrected Afghanistan 1963 55 47.15 Afghanistan 1964 55 47.15 Afghanistan 1965 55 47.15 Afghanistan 1966 55 47.15 Afghanistan 1968 55 47.15 Afghanistan 1969 55 47.15 Afghanistan 1970 55 47.15 Afghanistan 1971 55 47.15 Afghanistan 1973 55 47.15 Afghanistan 1974 55 47.15 Afghanistan 1975 55 47.15 Afghanistan 1976 55 47.15 Afghanistan 1978 55 47.15 Afghanistan 1979 55 47.15 Afghanistan 1980 55 47.15 Afghanistan 1981 55 47.15 Afghanistan 1983 55 47.15 Afghanistan 1984 55 47.15 Afghanistan 1985 55 47.15 Afghanistan 1986 55 47.15 Afghanistan 1988 55 47.15 Afghanistan 1989 55 47.15 Afghanistan 1990 55 47.15 Afghanistan 1991 55 47.15 Afghanistan 1993 55 47.15 Afghanistan 1994 55 47.15 Afghanistan 1995 55 47.15 Afghanistan 1996 55 47.15 Afghanistan 1998 55 47.15 Afghanistan 1999 55 47.15 Afghanistan 2000 55 47.15 Afghanistan 2001 55 47.15 Afghanistan 2003 55 47.15 Afghanistan 2004 55 47.15 Afghanistan 2005 55 47.15 Afghanistan 2006 55 47.15 "]
]
